<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>$MEGABNB币安大乐透 - 10 mins Lottery</title>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(180deg, #F3BA2F 0%, #FCD535 50%, #F3BA2F 100%);
            font-family: 'Comic Sans MS', -apple-system, sans-serif;
            position: relative;
            overflow-x: hidden;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-2deg) translateY(0); }
            25% { transform: rotate(1deg) translateY(-8px); }
            50% { transform: rotate(2deg) translateY(0); }
            75% { transform: rotate(-1deg) translateY(-8px); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(255,215,0,0.5)); }
            50% { filter: drop-shadow(0 0 25px rgba(255,215,0,0.9)); }
        }

        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        .decoration {
            position: absolute;
            font-size: 40px;
            animation: float 3s ease-in-out infinite;
        }

        .decoration:nth-child(1) { top: 50px; left: 50px; animation-duration: 3s; }
        .decoration:nth-child(2) { top: 150px; right: 100px; font-size: 35px; animation-duration: 4s; }
        .decoration:nth-child(3) { bottom: 200px; left: 100px; font-size: 30px; animation-duration: 3.5s; }
        .decoration:nth-child(4) { top: 300px; right: 50px; font-size: 35px; animation-duration: 4.5s; }

        .header {
            text-align: center;
            padding-top: 60px;
            margin-bottom: 30px;
        }

        .logo {
            font-size: 80px;
            margin-bottom: 10px;
        }

        .logo-text {
            color: #2D3748;
            font-weight: 900;
            text-shadow: 4px 4px 0px rgba(255,200,0,0.3);
        }

        .tagline {
            background: linear-gradient(90deg, #E9C7FF 0%, #FFD4F5 100%);
            display: inline-block;
            padding: 15px 50px;
            border-radius: 50px;
            font-size: 24px;
            color: #2D3748;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 18px;
            color: #4A5568;
            margin-bottom: 5px;
        }

        .subtitle-en {
            font-size: 14px;
            color: #718096;
            margin-bottom: 10px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .countdown-card {
            background: white;
            border-radius: 30px;
            padding: 50px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            animation: sway 3s ease-in-out infinite;
            position: relative;
        }

        .treasure-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 30px;
        }

        .treasure-left, .treasure-right {
            flex: 0 0 200px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .bnb-logo {
            font-size: 80px;
            font-weight: 900;
            background: linear-gradient(135deg, #F3BA2F 0%, #FFA000 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 5px 15px rgba(243,186,47,0.5));
            animation: glow 2s ease-in-out infinite;
        }

        .bnb-price {
            background: linear-gradient(135deg, #F3BA2F 0%, #FFA000 100%);
            padding: 15px 25px;
            border-radius: 20px;
            color: white;
            font-weight: 800;
            font-size: 18px;
            box-shadow: 0 5px 20px rgba(243,186,47,0.4);
        }

        .price-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 3px;
        }

        .price-value {
            font-size: 24px;
            font-weight: 900;
        }

        .treasure-box {
            font-size: 80px;
            animation: bounce 2s ease-in-out infinite;
            filter: drop-shadow(0 5px 15px rgba(255,215,0,0.4));
        }

        .treasure-box.large {
            font-size: 120px;
        }

        .treasure-box.shake {
            animation: shake 0.5s ease-in-out infinite;
        }

        .countdown-center {
            flex: 1;
        }

        .countdown-title {
            font-size: 32px;
            color: #2D3748;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .countdown-title-en {
            font-size: 18px;
            color: #718096;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .time-box {
            border-radius: 20px;
            padding: 25px 35px;
            min-width: 120px;
            box-shadow: 0 8px 20px rgba(255,169,61,0.3);
        }

        .time-box:nth-child(1) {
            background: linear-gradient(135deg, #FF6B9D 0%, #C06C84 100%);
            transform: rotate(2deg);
            box-shadow: 0 8px 20px rgba(255,107,157,0.3);
        }

        .time-box:nth-child(2) {
            background: linear-gradient(135deg, #FFD93D 0%, #FFA93D 100%);
            transform: rotate(-1deg);
            box-shadow: 0 8px 20px rgba(255,169,61,0.3);
        }

        .time-box:nth-child(3) {
            background: linear-gradient(135deg, #A8E6CF 0%, #6BCF7F 100%);
            transform: rotate(1deg);
            box-shadow: 0 8px 20px rgba(107,207,127,0.3);
        }

        .time-box:nth-child(4) {
            background: linear-gradient(135deg, #6BCF7F 0%, #4ECDC4 100%);
            transform: rotate(-2deg);
            box-shadow: 0 8px 20px rgba(78,205,196,0.3);
        }

        .time-number {
            font-size: 52px;
            color: #2D3748;
            font-weight: 900;
        }

        .time-label {
            color: #2D3748;
            font-size: 16px;
            margin-top: 5px;
            font-weight: 700;
        }

        .prize-pool {
            background: linear-gradient(135deg, #FF6B9D 0%, #C06C84 100%);
            border-radius: 25px;
            padding: 35px;
            display: inline-block;
            transform: rotate(1deg);
            box-shadow: 0 10px 30px rgba(255,107,157,0.3);
        }

        .prize-label {
            color: white;
            font-size: 20px;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .prize-amount {
            font-size: 64px;
            color: white;
            font-weight: 900;
        }

        .three-column {
            display: grid;
            grid-template-columns: 1fr 1.2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        }

        .card-left { transform: rotate(-2deg); }
        .card-center { transform: rotate(1deg); padding: 35px; }
        .card-right { transform: rotate(2deg); }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .profile-name {
            font-weight: 800;
            font-size: 18px;
            color: #2D3748;
        }

        .profile-handle {
            font-size: 14px;
            color: #718096;
        }

        .post-text {
            font-size: 15px;
            color: #2D3748;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .stats-box {
            background: #F7FAFC;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 15px;
        }

        .stats-label {
            font-size: 13px;
            color: #718096;
            margin-bottom: 5px;
        }

        .stats-number {
            font-size: 22px;
            font-weight: 800;
            color: #2D3748;
        }

        .btn {
            width: 100%;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-yellow {
            background: linear-gradient(135deg, #FFD93D 0%, #FFA93D 100%);
            color: #2D3748;
            box-shadow: 0 4px 15px rgba(255,169,61,0.3);
        }

        .btn-green {
            background: linear-gradient(135deg, #A8E6CF 0%, #6BCF7F 100%);
            color: #2D3748;
            box-shadow: 0 4px 15px rgba(107,207,127,0.3);
        }

        .btn-calculate {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(102,126,234,0.3);
            transition: all 0.3s ease;
        }

        .btn-calculate:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102,126,234,0.4);
        }

        .btn-calculate:active {
            transform: translateY(0);
        }

        .section-title {
            font-size: 28px;
            font-weight: 900;
            color: #2D3748;
            margin-bottom: 5px;
            text-align: center;
        }

        .section-subtitle {
            font-size: 16px;
            color: #718096;
            text-align: center;
            margin-bottom: 30px;
        }

        .winner-item {
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .winner-item:nth-child(odd) { background: #FFF9E6; }
        .winner-item:nth-child(even) { background: #F0F7FF; }

        .winner-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .winner-badge {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FF6B9D 0%, #C06C84 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
        }

        .winner-address {
            font-family: monospace;
            font-weight: 700;
            color: #2D3748;
            font-size: 16px;
        }

        .winner-time {
            font-size: 13px;
            color: #718096;
        }

        .winner-amount {
            font-size: 22px;
            font-weight: 900;
            color: #FF6B9D;
        }

        .calculator-title {
            font-size: 22px;
            font-weight: 900;
            color: #2D3748;
            margin-bottom: 5px;
            text-align: center;
        }

        .calculator-subtitle {
            font-size: 14px;
            color: #718096;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            color: #4A5568;
            font-size: 14px;
            font-weight: 700;
        }

        .input-field {
            width: 100%;
            padding: 15px;
            border: 3px solid #F3BA2F;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 700;
            background: white;
        }

        .input-field:focus {
            outline: none;
            border-color: #FFA000;
            box-shadow: 0 0 0 3px rgba(243,186,47,0.2);
        }

        .result-box {
            background: linear-gradient(135deg, #A8E6CF 0%, #6BCF7F 100%);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 6px 20px rgba(107,207,127,0.3);
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .result-label {
            color: #2D3748;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 48px;
            color: #2D3748;
            font-weight: 900;
        }

        .info-box {
            background: #FFF9E6;
            padding: 20px;
            border-radius: 15px;
            font-size: 14px;
            color: #4A5568;
            line-height: 1.6;
        }

        .leaderboard-section {
            background: white;
            border-radius: 30px;
            padding: 50px;
            margin-bottom: 50px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            transform: rotate(-0.5deg);
        }

        .leaderboard-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .leaderboard-title {
            font-size: 36px;
            color: #2D3748;
            font-weight: 900;
            margin-bottom: 5px;
        }

        .leaderboard-subtitle {
            font-size: 18px;
            color: #718096;
            font-weight: 600;
        }

        .leaderboard-container {
            display: grid;
            gap: 15px;
        }

        .leaderboard-item {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px 30px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .leaderboard-item:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .leaderboard-item.rank-1 {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-color: #FFD700;
        }

        .leaderboard-item.rank-2 {
            background: linear-gradient(135deg, #E8E8E8 0%, #C0C0C0 100%);
            border-color: #C0C0C0;
        }

        .leaderboard-item.rank-3 {
            background: linear-gradient(135deg, #F4A460 0%, #CD7F32 100%);
            border-color: #CD7F32;
        }

        .rank-badge {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 900;
            background: white;
            color: #2D3748;
            flex-shrink: 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .rank-badge.gold {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
        }

        .rank-badge.silver {
            background: linear-gradient(135deg, #E8E8E8 0%, #C0C0C0 100%);
            color: #2D3748;
        }

        .rank-badge.bronze {
            background: linear-gradient(135deg, #F4A460 0%, #CD7F32 100%);
            color: white;
        }

        .holder-info {
            flex: 1;
        }

        .holder-address {
            font-family: monospace;
            font-size: 20px;
            font-weight: 800;
            color: #2D3748;
            margin-bottom: 5px;
        }

        .holder-percentage {
            font-size: 14px;
            color: #718096;
            font-weight: 600;
        }

        .holder-amount {
            font-size: 28px;
            font-weight: 900;
            color: #2D3748;
            text-align: right;
        }

        .cta-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 30px;
            padding: 40px;
            text-align: center;
            transform: rotate(-1deg);
            box-shadow: 0 15px 50px rgba(102,126,234,0.4);
            margin-bottom: 50px;
        }

        .cta-title {
            font-size: 36px;
            color: white;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .cta-text {
            font-size: 20px;
            color: white;
            margin-bottom: 5px;
        }

        .cta-text-en {
            font-size: 16px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 25px;
        }

        .cta-button {
            background: white;
            color: #667eea;
            border: none;
            padding: 18px 50px;
            border-radius: 20px;
            font-size: 20px;
            font-weight: 900;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .footer {
            text-align: center;
            padding: 40px;
            color: #4A5568;
        }

        .footer-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .footer-text {
            font-size: 14px;
            margin-bottom: 3px;
        }

        @media (max-width: 1024px) {
            .three-column {
                grid-template-columns: 1fr;
            }
            
            .treasure-container {
                flex-direction: column;
            }
            
            .treasure-left, .treasure-right {
                flex-direction: row;
                flex: none;
            }
            
            .treasure-box {
                font-size: 60px;
            }
            
            .bnb-logo {
                font-size: 50px;
            }
            
            .treasure-box.large {
                font-size: 90px;
            }
        }
    </style>
</head>
<body>
<div class="decoration">🌈</div>
<div class="decoration">✨</div>
<div class="decoration">💎</div>
<div class="decoration">🎁</div>
<div class="header">
<div class="logo">
            ⭐ <span class="logo-text">$MEGABNB</span> ⭐
        </div>
<div class="tagline">
            $MEGABNB — 每10分钟抽奖的快乐盲盒 💰
        </div>
<div class="subtitle">
            持有 $MEGABNB 代币，每10分钟自动参与抽奖 🎰
        </div>
<div class="subtitle-en">
            Hold $MEGABNB tokens, auto-enter 10-minute draws
        </div>
<div class="subtitle">
            持币越多，中奖概率越高 — 链上公平透明 🤝
        </div>
<div class="subtitle-en">
            More tokens = Higher odds - Fair &amp; Transparent on-chain
        </div>
</div>
<div class="container">
<div class="countdown-card">
<div class="treasure-container">
<div class="treasure-left">
<div class="bnb-logo">$BNB</div>
<div class="bnb-price">
<div class="price-label">实时价格 / Live Price</div>
<div class="price-value" id="bnb-price">Loading...</div>
</div>
</div>
<div class="countdown-center">
<div class="countdown-title">⏰ 下次抽奖倒计时</div>
<div class="countdown-title-en">Next Draw Countdown</div>
<div class="countdown-timer">
<div class="time-box">
<div class="time-number" id="days">00</div>
<div class="time-label">天 Days</div>
</div>
<div class="time-box">
<div class="time-number" id="hours">00</div>
<div class="time-label">时 Hours</div>
</div>
<div class="time-box">
<div class="time-number" id="minutes">00</div>
<div class="time-label">分 Mins</div>
</div>
<div class="time-box">
<div class="time-number" id="seconds">00</div>
<div class="time-label">秒 Secs</div>
</div>
</div>
<div class="prize-pool">
<div class="prize-label">🏆 本次奖池 Prize Pool</div>
<div class="prize-amount">12.5 BNB</div>
</div>
</div>
<div class="treasure-right">
<div class="treasure-box large shake">🎁</div>
</div>
</div>
</div>
<div class="three-column">
<div class="card card-left">
<div class="profile-header">
<div class="avatar">📊</div>
<div>
<div class="profile-name">$MEGABNB</div>
<div class="profile-handle">@megabnb · Just now</div>
</div>
</div>
<div class="post-text">
                     The MEGABNB launch has been moved from 11:00 PM → 11:30 PM (Beijing Time) to ensure everything runs smoothly.
                     Thank you for your patience and support — see you soon! 🚀
    
                    为了确保一切顺利进行，MEGABNB 上线时间由 晚上11点调整为11点30分（北京时间）。
                     感谢大家的耐心与支持，马上见！<br/><br/>                                    
    
       
                    下一轮抽奖即将开始，持有 $MEGABNB 即可自动参与。持币越多，中奖概率越高！💎<br/>
                    Next draw starting soon, hold $MEGABNB to auto-enter!
                </div>
<div class="stats-box">
<div class="stats-label">当前数据 Current Stats</div>
<div class="stats-number">1B 总供应量 Total Supply</div>
</div>
<button class="btn btn-yellow">购买 $MEGABNB 代币 🚀<br/>Buy $MEGABNB</button>
</div>
<div class="card card-center">
<div class="section-title">🎊 中奖记录追踪</div>
<div class="section-subtitle">Winner History - Live on-chain data</div>
<div id="winners-list">
<div class="winner-item">
<div class="winner-left">
<div class="winner-badge">1</div>
<div>
<div class="winner-address"></div>
<div class="winner-time">11:40</div>
</div>
</div>
<div class="winner-amount"> BNB</div>
</div>
<div class="winner-item">
<div class="winner-left">
<div class="winner-badge">2</div>
<div>
<div class="winner-address"></div>
<div class="winner-time"> 11:50</div>
</div>
</div>
<div class="winner-amount"> BNB</div>
</div>
<div class="winner-item">
<div class="winner-left">
<div class="winner-badge">3</div>
<div>
<div class="winner-address"></div>
<div class="winner-time">12:00</div>
</div>
</div>
<div class="winner-amount"> BNB</div>
</div>
<div class="winner-item">
<div class="winner-left">
<div class="winner-badge">4</div>
<div>
<div class="winner-address"></div>
<div class="winner-time">12:10</div>
</div>
</div>
<div class="winner-amount"> BNB</div>
</div>
</div>
<a href="https://x.com/MEGABALlBNB" target="_blank" style="text-decoration:none;"><button class="btn btn-green">关注 Twitter 获取最新消息 🐦<br/>Follow Twitter</button></a>
</div>
<div class="card card-right">
<div class="calculator-title">🎯 计算中奖概率</div>
<div class="calculator-subtitle">Calculate Your Odds</div>
<div class="input-group">
<label class="input-label">你的持币量 Your Holdings</label>
<input class="input-field" id="holdings" min="0" placeholder="输入数量 Enter amount" step="1" type="number"/>
</div>
<button class="btn-calculate" id="calcBtn">
                    🧮 计算概率 Calculate
                </button>
<div class="result-box">
<div class="result-label">你的中奖概率 Your Win Odds</div>
<div class="result-value" id="chance">0.0000%</div>
</div>
<div class="info-box">
<strong style="color: #2D3748;">💡 如何运作 How It Works:</strong><br/>
                    你的持币量 ÷ 总供应量 = 中奖概率<br/>
                    Your Holdings ÷ Total Supply = Win Odds<br/><br/>
                    每10分钟自动抽奖一次，奖池来自交易开发者钱包 ✨<br/>
                    Auto-draw every 10 minutes, prize pool from fees &amp; dev wallet
                </div>
</div>
</div>

<div class="cta-banner">
<div class="cta-title">🌟 立即购买 $MEGABNB 🌟</div>
<div class="cta-text">
                持有代币，每10分钟自动参与抽奖 — 公平透明，链上可查！
            </div>
<div class="cta-text-en">
                Hold tokens, auto-enter 10-minute draws - Fair &amp; transparent on-chain!
            </div>
<button class="cta-button">立即购买代币 💎<br/>Buy Now</button>
</div>
</div>
<div class="footer">
<div class="footer-title">$MEGABNB - 社区驱动的抽奖生态</div>
<div class="footer-text">Community-Driven Lottery Ecosystem</div>
<div class="footer-text">所有抽奖记录可在区块链上查询 智能合约自动执行</div>
<div class="footer-text">All draws verifiable on-chain - Smart contract automated</div>
</div>
<script>
        function updateCountdown() {
    // Anchored 10-minute countdown starting from Beijing time 2025-10-16 23:30 (UTC+8)
    const now = new Date();
    const base = new Date('2025-10-16T15:30:00Z'); // UTC time corresponding to 23:30 Beijing

    let next;
    if (now < base) {
        next = base;
    } else {
        const elapsed = now - base; // ms
        const cycle = Math.floor(elapsed / (10 * 60 * 1000)); // number of 10-minute cycles passed
        next = new Date(base.getTime() + (cycle + 1) * 10 * 60 * 1000);
    }

    const diff = next - now;
    const dd = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hh = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const mm = Math.floor((diff / 1000 / 60) % 60);
    const ss = Math.floor((diff / 1000) % 60);

    const dEl = document.getElementById('days');
    const hEl = document.getElementById('hours');
    const mEl = document.getElementById('minutes');
    const sEl = document.getElementById('seconds');

    if (dEl) dEl.textContent = String(dd).padStart(2, '0');
    if (hEl) hEl.textContent = String(hh).padStart(2, '0');
    if (mEl) mEl.textContent = String(mm).padStart(2, '0');
    if (sEl) sEl.textContent = String(ss).padStart(2, '0');
}
        updateCountdown();
        setInterval(updateCountdown, 1000);

        
        
        // === Live BNB Price (robust, rotating providers + timeout + cache) ===
        (function(){
            const priceEl = document.getElementById('bnb-price');
            if (!priceEl) return;

            let prev = null;
            let lastOk = 0;
            let failCount = 0;

            const fmtUSD = n => Number(n).toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });

            function timeoutFetch(url, opts={}, ms=4000){
                const ctrl = new AbortController();
                const id = setTimeout(() => ctrl.abort('timeout'), ms);
                return fetch(url, {...opts, signal: ctrl.signal}).finally(() => clearTimeout(id));
            }

            async function fromCoinGecko(){
                const r = await timeoutFetch('https://api.coingecko.com/api/v3/simple/price?ids=binancecoin&vs_currencies=usd', { cache: 'no-store' });
                if (!r.ok) throw new Error('coingecko:'+r.status);
                const j = await r.json();
                const v = j && j.binancecoin && j.binancecoin.usd;
                if (typeof v !== 'number') throw new Error('bad cg json');
                return v;
            }

            async function fromBinance(){
                const r = await timeoutFetch('https://api.binance.com/api/v3/ticker/price?symbol=BNBUSDT', { cache: 'no-store' });
                if (!r.ok) throw new Error('binance:'+r.status);
                const j = await r.json();
                const v = Number(j.price);
                if (!Number.isFinite(v)) throw new Error('bad binance json');
                return v;
            }

            async function fromCryptoCompare(){
                const r = await timeoutFetch('https://min-api.cryptocompare.com/data/price?fsym=BNB&tsyms=USD', { cache: 'no-store' });
                if (!r.ok) throw new Error('cc:'+r.status);
                const j = await r.json();
                const v = Number(j.USD);
                if (!Number.isFinite(v)) throw new Error('bad cc json');
                return v;
            }

            async function getPrice(){
                // rotate providers; short-circuit on first success
                try { return await fromCoinGecko(); } catch {}
                try { return await fromBinance(); } catch {}
                try { return await fromCryptoCompare(); } catch {}
                throw new Error('all providers failed');
            }

            function render(price){
                let prefix = '';
                if (prev !== null) {
                    if (price > prev) prefix = '↑ ';
                    else if (price < prev) prefix = '↓ ';
                }
                prev = price;
                priceEl.textContent = prefix + '$' + fmtUSD(price);
            }

            async function update(){
                try {
                    const price = await getPrice();
                    render(price);
                    lastOk = Date.now();
                    failCount = 0;
                } catch (e){
                    console.warn('BNB price update failed:', e);
                    failCount++;
                    // 如果 90 秒内有过成功，就保留上一次价格不动；超过 90 秒才显示不可用
                    if (Date.now() - lastOk > 90_000) {
                        priceEl.textContent = '暂时不可用';
                    }
                }
            }

            // 定时器：基础10s，失败时增加少量抖动与退避（最多到30s）
            function schedule(){
                const base = 10000;
                const backoff = Math.min(failCount, 2) * 5000; // 0, 5s, 10s
                const jitter = Math.floor(Math.random() * 800); // 防止齐刷刷打爆某个源
                const next = base + backoff + jitter;
                setTimeout(async () => { await update(); schedule(); }, next);
            }

            // 初始拉取
            update();
            schedule();
        })();
function calculateChance() {
            const input = document.getElementById('holdings');
            const chanceEl = document.getElementById('chance');
            if (!input || !chanceEl) return;
            const x = parseFloat(input.value);
            const TOTAL = 1000000000;
            if (!Number.isFinite(x) || x <= 0) {
                chanceEl.textContent = '0.0000%';
                return;
            }
            const p = (x / TOTAL) * 100;
            let out;
            if (p >= 1) out = p.toFixed(2) + '%';
            else if (p >= 0.01) out = p.toFixed(4) + '%';
            else if (p >= 0.0001) out = p.toFixed(6) + '%';
            else out = p.toExponential(2) + '%';
            chanceEl.textContent = out;
        }

        (function(){
            const btn = document.getElementById('calcBtn');
            const input = document.getElementById('holdings');
            if (btn) btn.addEventListener('click', calculateChance);
            if (input) input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') calculateChance();
            });
        })();
    </script>
<script>
        // === Prize Pool: read BNB balance and render into .prize-amount ===
        (function(){
          const ADDR = '0x8cdc9426baac16ac1c5af5071b6acb166e76cc20';
          const RPCS = [
            'https://bsc.publicnode.com',
            'https://binance.llamarpc.com',
            'https://rpc.ankr.com/bsc',
            'https://bsc-dataseed.binance.org'
          ];

          const amountEl = document.querySelector('.prize-amount');
          if (!amountEl) return;

          function trimBn(n, decimals=4){
            const s = Number(n).toFixed(decimals);
            return s.replace(/\.?0+$/, ''); // remove trailing zeros
          }

          function timeoutPost(url, body, ms=5000){
            const ctrl = new AbortController();
            const tid = setTimeout(() => ctrl.abort('timeout'), ms);
            return fetch(url, {
              method: 'POST',
              headers: {'Content-Type':'application/json'},
              body: JSON.stringify(body),
              signal: ctrl.signal
            }).finally(()=>clearTimeout(tid));
          }

          function weiHexToBNB(hex){
            const wei = BigInt(hex);
            const denom = 10n ** 18n;
            const val = Number(wei) / 1e18;
            return val;
          }

          async function getBalanceBNB(){
            const payload = { jsonrpc: '2.0', id: 1, method: 'eth_getBalance', params: [ADDR, 'latest'] };
            for (const rpc of RPCS){
              try {
                const r = await timeoutPost(rpc, payload, 5000);
                if (!r.ok) continue;
                const j = await r.json();
                const hex = j && j.result;
                if (typeof hex === 'string' && /^0x[0-9a-fA-F]+$/.test(hex)) {
                  return weiHexToBNB(hex);
                }
              } catch(e){ /* try next */ }
            }
            throw new Error('all RPCs failed');
          }

          let lastOk = 0;
          async function updatePool(){
            try {
              const bnb = await getBalanceBNB();
              amountEl.textContent = trimBn(bnb) + ' BNB';
              lastOk = Date.now();
            } catch(e){
              console.warn('pool fetch failed', e);
              if (Date.now() - lastOk > 120000) {
                amountEl.textContent = '暂时不可用';
              }
            }
          }

          // Initialize & refresh every 15s
          amountEl.textContent = 'Loading…';
          updatePool();
          setInterval(updatePool, 15000);
        })();
</script></body>
</html>